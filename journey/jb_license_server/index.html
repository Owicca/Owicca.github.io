<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="OWicca"><meta name=generator content="Hugo 0.121.2"><title>Jetbrains license server — Down the wabbit's hole</title>
<meta name=description content><link rel=canonical href=https://www.dinudev.com/journey/jb_license_server/><link href rel=alternate type=application/rss+xml title="Down the wabbit's hole"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Arvo:400,700"><link rel=stylesheet href=https://www.dinudev.com/css/highlight.css><link rel=stylesheet href=https://www.dinudev.com/css/paperback.css><link rel=stylesheet href=https://www.dinudev.com/css/main.css><link rel=stylesheet href=https://www.dinudev.com/css/tabs.css></head><body><div class=container><header><h1>Jetbrains license server</h1><nav class=site-nav><a href=/>Home</a>
<a href=/post/>All posts</a>
<a href=/thoughts/>Thoughts</a>
<a href=/paper/>Papers</a></nav></header><h3>Table of Contents</h3><aside><nav id=TableOfContents><ul><li><ul><li><a href=#logic>logic:</a></li><li><a href=#signing>signing:</a></li><li><a href=#methods>methods:</a></li><li><a href=#prerequisites>prerequisites:</a></li></ul></li></ul></nav></aside><article><h3 id=logic>logic:</h3><ul><li>a tls priv-public key pair exists</li><li>clients have the public key, the servers have the private key</li><li>the client sends a request with his unique set of identifying information</li><li><code>encoded response</code> = rsa detached signature = hash the content then sign with private key</li><li>the server checks the info and sends a response back:<ul><li>the response is the content + <code>encoded response</code></li></ul></li></ul><h3 id=signing>signing:</h3><ul><li>encode data to be signed as string, then hash with md5, then sign</li><li>the resulted detached signature is the encoded response</li></ul><h3 id=methods>methods:</h3><ul><li>endpoints:<ul><li><code>/rpc/ping.action</code>:<ul><li>params:<ul><li><code>buildNumber</code> = 2017.2.3+Build+PY-172.3968.37</li><li><code>clientVersion</code> = 4</li><li><code>hostName</code> = 2GIZRWS4YAICTHM</li><li><code>machineId</code> = 62dd416a-b26c-41ed-9888-18872b08c375</li><li><code>productCode</code> = e8d15448-eecd-440e-bbe9-1e5f754d781b</li><li><code>productFamilyId</code> = e8d15448-eecd-440e-bbe9-1e5f754d781b</li><li><code>salt</code> = 1512096608496&amp;secure=false</li><li><code>ticketId</code> = 1</li><li><code>userName</code> = Administrator</li></ul></li><li>return:<ul><li>success:<ul><li>a string that contains the rsa signed response AND the response</li><li>the response is an xml</li><li>final:<ul><li><code>&lt;!-- SIGNATURE_HERE --> &lt;PingResponse> &lt;message>&lt;/message> &lt;responseCode>OK&lt;/responseCode> &lt;salt>SALT_HERE&lt;/salt> &lt;/PingResponse></code></li></ul></li></ul></li></ul></li></ul></li><li><code>/rpc/releaseTicket.action</code>:<ul><li>params:<ul><li>the same from <code>ping.action</code></li></ul></li><li>return:<ul><li>success:<ul><li>a string that contains the rsa signed response AND the response</li><li>the response is an xml</li><li>final:<ul><li><code>&lt;!-- SIGNATURE_HERE --> &lt;ReleaseTicketResponse> &lt;message>&lt;/message> &lt;responseCode>OK&lt;/responseCode> &lt;salt>SALT_HERE&lt;/salt> &lt;/ReleaseTicketResponse></code></li></ul></li></ul></li></ul></li></ul></li><li><code>/rpc/obtainTicket.action</code><ul><li>params:<ul><li>the same from <code>releaseTicket.action</code></li></ul></li><li>return:<ul><li>success:<ul><li>a string that contains the rsa signed response AND the response</li><li>the response is an xml</li><li>final:<ul><li><code>&lt;!-- SIGNATURE_HERE --> &lt;ObtainTicketResponse> &lt;message>&lt;/message> &lt;prolongationPeriod>DURATION_AS_UNIX_TIMESTAMP&lt;/prolongationPeriod> &lt;responseCode>OK&lt;/responseCode> &lt;salt>SALT_HERE&lt;/salt> &lt;ticketId>1&lt;/ticketId> &lt;ticketProperties>licensee=USERNAME_FROM_PARAMS_HERE\tlicenseType=0\t&lt;/ticketProperties> &lt;/ObtainTicketResponse></code></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul><h3 id=prerequisites>prerequisites:</h3><ul><li>python3/python2.7</li><li>flask</li><li>rsa</li></ul></article><nav class=site-nav><a href=https://www.dinudev.com//>Home</a>
<a href=https://www.dinudev.com//post/>All posts</a>
<a href=https://www.dinudev.com//thoughts/>Thoughts</a>
<a href=https://www.dinudev.com//paper/>Papers</a>
<a href=https://github.com/Owicca>GitHub</a></nav><footer class=site-footer><span class=owner>©2024 OWicca</span></footer></div><script src=https://www.dinudev.com/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad()</script><script src=https://www.dinudev.com/js/tabs.js></script></body></html>